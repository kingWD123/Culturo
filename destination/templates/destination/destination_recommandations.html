{% extends "users/base.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<link rel="stylesheet" href="{% static 'css/destination_recommandations.css' %}">

<!-- Sidebar flottant -->
<div class="sidebar-float" id="sidebarFloat">
    <button class="close-btn" id="closeSidebarBtn">&times;</button>
    <h2>DESTINATIONS</h2>
    <div class="sidebar-content">
        <p>Here you can add your filters, results, or any other useful information.</p>
        <ul style="margin-top:1.5rem;opacity:0.8;">
            <li>• Search filters</li>
            <li>• Destination list</li>
            <li>• Location details</li>
            <li>• ...</li>
        </ul>
    </div>
    <div class="sidebar-footer">Culturo &copy; 2024</div>
</div>

<!-- Bouton pour ouvrir la sidebar -->
<button class="sidebar-toggle-btn" id="openSidebarBtn">
    <i class="fa-solid fa-bars"></i>
</button>

<div id="map"></div>

<!-- Floating carousel at the bottom of the page -->
<div class="bottom-carousel" id="bottomCarousel">
    <button class="carousel-hide-btn" id="hideCarouselBtn" title="Hide carousel">&times;</button>
    <div class="carousel-track" id="carouselTrack">
        <!-- Destination cards will be injected here by JS -->
    </div>
</div>

<!-- Button to show the carousel again -->
<button class="show-carousel-btn" id="showCarouselBtn" title="Show destinations">
    <i class="fa-solid fa-layer-group"></i>
</button>

<!-- Floating Chatbot Icon and Chat Window -->
<button id="chatbot-toggle" aria-label="Open Chatbot">
    <i class="fas fa-comments"></i>
</button>
<div id="destination-chatbot">
    <div class="chatbot-header">
        <span><i class="fas fa-robot"></i> Culturo Chatbot</span>
        <button id="chatbot-close" aria-label="Close Chatbot">&times;</button>
    </div>
    <div id="chatbot-messages">
        <div class="chat-bubble bot-message">
            Hello! How can I help you find your next destination?
        </div>
    </div>
    <form id="chatbot-form">
        <input id="chatbot-input" type="text" placeholder="Type your message..." autocomplete="off">
        <button id="chatbot-send" type="submit"><i class="fas fa-paper-plane"></i></button>
    </form>
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="{% static 'js/destination_recommandations.js' %}"></script>
{% endblock %}