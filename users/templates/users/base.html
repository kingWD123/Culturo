{% load static %}
<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Culturo - Discover the world by your tastes{% endblock %}</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Alpine.js -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/culturo.css' %}">

    {% block extra_css %}{% endblock %}
</head>

<body class="bg-gray-50 text-gray-900">
    <!-- Navbar/Header from home.html -->
    <header class="header">
        <div class="container header-content">
            <div class="logo"><a href="/">CULTURO</a></div>
            <nav class="nav-links">
                <a href="{% url 'cinema_recommandations' %}">Cinema</a>
                <a href="{% url 'destination:destination_recommandations' %}">Destinations</a>
                <a href="#">Hotels</a>
                <a href="{% url 'restaurants:restaurant_recommandations' %}">Restaurants</a>
                <a href="#">Events</a>
                <a href="#">Recommendations</a>
            </nav>
            <a href="#" class="header-cta">Sign Up</a>
        </div>
    </header>

    <!-- Messages -->
    {% if messages %}
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4">
        {% for message in messages %}
        <div
            class="mb-4 p-4 rounded-lg {% if message.tags == 'success' %}bg-green-100 border border-green-400 text-green-700{% elif message.tags == 'error' %}bg-red-100 border border-red-400 text-red-700{% elif message.tags == 'warning' %}bg-yellow-100 border border-yellow-400 text-yellow-700{% else %}bg-blue-100 border border-blue-400 text-blue-700{% endif %} fade-in">
            <div class="flex items-center">
                <i
                    class="fas {% if message.tags == 'success' %}fa-check-circle{% elif message.tags == 'error' %}fa-exclamation-circle{% elif message.tags == 'warning' %}fa-exclamation-triangle{% else %}fa-info-circle{% endif %} mr-2"></i>
                {{ message }}
                <button onclick="this.parentElement.parentElement.remove()" class="ml-auto text-lg hover:opacity-70">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- Main Content -->
    <main class="min-h-screen">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer from home.html -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="footer-logo">CULTURO</div>
                    <p class="footer-tagline">Sharing culture differently</p>
                    <div class="footer-social">
                        <a href="#">üìò</a>
                        <a href="#">üì∑</a>
                        <a href="#">üê¶</a>
                    </div>
                </div>
                <div class="footer-links">
                    <div>
                        <h4>Discover</h4>
                        <ul>
                            <li><a href="#">Universes</a></li>
                            <li><a href="#">Artists</a></li>
                            <li><a href="#">Events</a></li>
                            <li><a href="#">Recommendations</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4>Community</h4>
                        <ul>
                            <li><a href="#">Blog</a></li>
                            <li><a href="#">Testimonials</a></li>
                            <li><a href="#">Partners</a></li>
                            <li><a href="#">Newsletter</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4>Support</h4>
                        <ul>
                            <li><a href="#">Help</a></li>
                            <li><a href="#">Contact</a></li>
                            <li><a href="#">Privacy</a></li>
                            <li><a href="#">Terms</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>¬© 2024 Culturo. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Custom JavaScript -->
    <script>
        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Auto-hide messages after 5 seconds
        setTimeout(() => {
            const messages = document.querySelectorAll('.fade-in');
            messages.forEach(message => {
                message.style.transition = 'opacity 0.5s ease-out';
                message.style.opacity = '0';
                setTimeout(() => message.remove(), 500);
            });
        }, 5000);

        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('fade-in');
                }
            });
        }, observerOptions);

        // Observe all cards and sections
        document.addEventListener('DOMContentLoaded', () => {
            const elements = document.querySelectorAll('.card-hover, .animate-on-scroll');
            elements.forEach(el => observer.observe(el));
        });
    </script>

    {% block extra_js %}{% endblock %}
</body>

</html>